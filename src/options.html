<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TimePaste Options</title>
    <style>
      body { 
        font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; 
        margin: 24px; 
        background: #ffffff;
        color: #1f2937;
      }
      @media (prefers-color-scheme: dark) {
        body {
          background: #000000;
          color: #f9fafb;
        }
      }
      .section { 
        margin-bottom: 20px; 
      }
      label { display: block; margin-bottom: 8px; font-weight: 600; }
      input[type="text"], input[type="number"], input[type="time"] { 
        width: 220px; 
        padding: 6px 8px; 
        background: #ffffff;
        border: 1px solid #d1d5db;
        color: #1f2937;
        border-radius: 4px;
      }
      @media (prefers-color-scheme: dark) {
        input[type="text"], input[type="number"], input[type="time"] {
          background: #1a1a1a;
          border: 1px solid #333333;
          color: #f9fafb;
        }
      }
      .hint { 
        font-size: 12px; 
        color: #6b7280; 
        margin-top: 6px; 
      }
      @media (prefers-color-scheme: dark) {
        .hint {
          color: #9ca3af;
        }
      }
      button { padding: 6px 10px; }
      h1, h2 {
        color: #1f2937;
      }
      @media (prefers-color-scheme: dark) {
        h1, h2 {
          color: #f9fafb;
        }
      }
      .muted-text {
        color: #6b7280;
      }
      @media (prefers-color-scheme: dark) {
        .muted-text {
          color: #9ca3af;
        }
        .hint[style*="background:#f0f9ff"] {
          background: #1e3a5f !important;
          border-color: #3b82f6 !important;
        }
      }
      #debug-output {
        background: #f8f9fa;
        border: 1px solid #dee2e6;
        color: #1f2937;
      }
      @media (prefers-color-scheme: dark) {
        #debug-output {
          background: #1a1a1a;
          border: 1px solid #333333;
          color: #f9fafb;
        }
      }
    </style>
  </head>
  <body>
    <h1>TimePaste Options</h1>
    <div class="section">
      <label for="maxSlots">Max slots when Busy</label>
      <input id="maxSlots" type="number" min="1" step="1" />
      <div class="hint">Number of 1-hour slots to propose in Busy mode (default 3).</div>
    </div>
    <div class="section">
      <label for="showTimezone">Display Options</label>
      <div style="display: flex; align-items: center; gap: 8px; margin-top: 8px;">
        <input id="showTimezone" type="checkbox" style="margin: 0;" />
        <label for="showTimezone" style="margin: 0; font-weight: 500;">Include timezone</label>
      </div>
      <div class="hint">When enabled, availability times will include your timezone offset (e.g., "17:00-18:00 GMT +2").</div>
    </div>
    <div class="section">
      <label for="timeBuffer">Time Buffer</label>
      <div style="display: flex; align-items: center; gap: 12px; margin-top: 8px;">
        <div style="display: flex; gap: 8px;">
          <label style="display: flex; align-items: center; gap: 6px; font-weight: 500; cursor: pointer;">
            <input type="radio" name="timeBuffer" value="5" />
            <span>5 min</span>
          </label>
          <label style="display: flex; align-items: center; gap: 6px; font-weight: 500; cursor: pointer;">
            <input type="radio" name="timeBuffer" value="10" />
            <span>10 min</span>
          </label>
          <label style="display: flex; align-items: center; gap: 6px; font-weight: 500; cursor: pointer;">
            <input type="radio" name="timeBuffer" value="15" />
            <span>15 min</span>
          </label>
          <label style="display: flex; align-items: center; gap: 6px; font-weight: 500; cursor: pointer;">
            <input type="radio" name="timeBuffer" value="30" />
            <span>30 min</span>
          </label>
        </div>
        <span class="muted-text">or</span>
        <div style="display: flex; align-items: center; gap: 8px;">
          <label for="timeBufferCustom" style="font-weight: 500;">Custom:</label>
          <input id="timeBufferCustom" type="number" min="0" step="1" style="width: 80px; padding: 6px 8px;" />
          <span class="muted-text">min</span>
        </div>
      </div>
      <div class="hint">Time buffer to add before and after meetings (default 0 minutes). The custom value takes precedence if set.</div>
    </div>
    <div class="section">
      <label>Work Hours</label>
      <div style="display: flex; align-items: center; gap: 12px; margin-top: 8px;">
        <div>
          <label for="workStartHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">Start Time</label>
          <input id="workStartHour" type="time" style="width: 100px; padding: 6px 8px;" />
        </div>
        <div style="color: #666; font-size: 14px; margin-top: 20px;">to</div>
        <div>
          <label for="workEndHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">End Time</label>
          <input id="workEndHour" type="time" style="width: 100px; padding: 6px 8px;" />
        </div>
      </div>
      <div class="hint">Default work hours for availability calculation (default 9:00 AM - 5:00 PM).</div>
    </div>
    <div class="section">
      <label>Out of Office / Non-Office Hours</label>
      <div style="margin-top: 8px;">
        <div style="margin-bottom: 12px;">
          <label style="font-size: 13px; font-weight: 600; margin-bottom: 6px; display: block;">Weekdays (Mon-Fri)</label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <div>
              <label for="personalWeekdayStartHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">Start Time</label>
              <input id="personalWeekdayStartHour" type="time" style="width: 100px; padding: 6px 8px;" />
            </div>
            <div class="muted-text" style="font-size: 14px; margin-top: 20px;">to</div>
            <div>
              <label for="personalWeekdayEndHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">End Time</label>
              <input id="personalWeekdayEndHour" type="time" style="width: 100px; padding: 6px 8px;" />
            </div>
          </div>
        </div>
        <div>
          <label style="font-size: 13px; font-weight: 600; margin-bottom: 6px; display: block;">Weekends (Sat-Sun)</label>
          <div style="display: flex; align-items: center; gap: 12px;">
            <div>
              <label for="personalWeekendStartHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">Start Time</label>
              <input id="personalWeekendStartHour" type="time" style="width: 100px; padding: 6px 8px;" />
            </div>
            <div class="muted-text" style="font-size: 14px; margin-top: 20px;">to</div>
            <div>
              <label for="personalWeekendEndHour" style="font-size: 12px; font-weight: 500; margin-bottom: 4px; display: block;">End Time</label>
              <input id="personalWeekendEndHour" type="time" style="width: 100px; padding: 6px 8px;" />
            </div>
          </div>
        </div>
      </div>
      <div class="hint">Personal/out-of-office hours for availability calculation (default: weekdays 6:00 PM - 10:00 PM, weekends 10:00 AM - 10:00 PM).</div>
    </div>
    <div class="section">
      <label>Google Accounts</label>
      <div id="accounts-list" style="display:flex; flex-direction:column; gap:12px; margin-top:8px;"></div>
      <div style="margin-top:12px; display:flex; gap:8px;">
        <button id="add-google-account" style="padding:8px 12px; background:#4285f4; color:white; border:none; border-radius:4px; font-size:12px;">+ Add Google Account</button>
        <button id="refresh-calendars" class="button secondary" style="width:auto; padding:8px 12px;">Refresh</button>
      </div>
      <div class="hint" style="margin-top:12px; padding:12px; background:#f0f9ff; border:1px solid #bae6fd; border-radius:4px;">
        <strong>OAuth Redirect URI:</strong><br>
        <code id="redirect-uri" style="font-size:11px; word-break:break-all; display:block; margin-top:4px;"></code>
        <div style="margin-top:8px; font-size:11px;">Add this URL to your Google Cloud Console OAuth client's "Authorized redirect URIs" list.</div>
      </div>
    </div>
    <div class="section">
      <button id="sign-out" class="button secondary" style="width:auto; padding:8px 12px;">Sign out</button>
    </div>
    
    <!-- Debug Section -->
    <div class="section" style="margin-top: 40px; padding-top: 20px; border-top: 2px solid #e5e7eb;">
      <h2 style="margin-bottom: 16px;">Debug Information</h2>
      
      <div style="margin-bottom: 16px;">
        <button id="debug-events" style="padding:8px 12px; margin-right:8px; background:#007bff; color:white; border:none; border-radius:4px;">Show Calendar Events</button>
        <button id="debug-availability" style="padding:8px 12px; margin-right:8px; background:#28a745; color:white; border:none; border-radius:4px;">Show Availability Slots</button>
        <button id="debug-clear" style="padding:8px 12px; background:#dc3545; color:white; border:none; border-radius:4px;">Clear Debug</button>
      </div>
      
      <div id="debug-output" style="border-radius:4px; padding:16px; min-height:200px; font-family:monospace; font-size:12px; white-space:pre-wrap; overflow-y:auto; max-height:400px; display:none;"></div>
    </div>
    
    <button id="save">Save</button>
    <span id="saved" style="margin-left:8px;"></span>
    <script src="./options.js" type="module"></script>
  </body>
  </html>


